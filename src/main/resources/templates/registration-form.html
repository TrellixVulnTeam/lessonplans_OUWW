<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
	<title>Registration</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

	<link rel="stylesheet" href="../css/styles_principal.css" />
</head>

<body>
	<div th:insert="navbar.html :: nav"></div>

	<div class="main-content">

		<div class="form__login">
			<h1 class="mt-6 mb-6" id="large-header">Register</h1>
			<!-- Login Form -->
			<form th:action="@{/register/processRegistrationForm}" 
			th:object="${regUser}" method="POST" class="center-block">

				<!-- Check for registration error -->
				<div th:if="${registrationError}" class="alert mb-2">
					<p th:text="${registrationError}"></p>
				</div>

				<!-- User name -->
				<div class="mb-2">
					<label>Username</label>
					<input type="text" th:field="*{userName}"/>
				</div>

				<div th:if="${#fields.hasErrors('userName')}" class="alert">
				<ul>
				  <li th:each="err : ${#fields.errors('userName')}" th:text="'User name ' + ${err}" />
				</ul>						
				</div>

				<!-- Password -->
				<div class="mb-2">
					<label>Password</label>
					<input type="password" th:field="*{password}" class="form-control" th:errorclass="fieldError" />
				</div>

				<div th:if="${#fields.hasErrors('password')}"class="alert">
					<ul>
						<li th:each="err : ${#fields.errors('password')}" th:text="'Password ' + ${err}" />
					</ul>						
				</div>

				<!-- Confirm Password -->
				<div class="mb-2">
					<label>Confirm password</label>
					<input type="password" th:field="*{matchingPassword}"  class="form-control" th:errorclass="fieldError" />
				</div>
				<div th:if="${#fields.hasErrors('matchingPassword')}" class="alert">
					<ul>
						<li th:each="err : ${#fields.errors('matchingPassword')}" th:text="'Password ' + ${err}" />
					</ul>						
				</div>

				<!-- First name -->
				<div class="mb-3">
					<label>First name</label>
					<input type="text" th:field="*{firstName}" placeholder="first name (*)" class="form-control" th:errorclass="fieldError" />
				</div>
				<div th:if="${#fields.hasErrors('firstName')}" class="alert">
					<ul>
					  <li th:each="err : ${#fields.errors('firstName')}" th:text="'First name ' + ${err}" />
					</ul>						
				</div>

				<!-- Last name -->
				<div class="mb-3">
					<label>Last name</label>
					<input type="text" th:field="*{lastName}" placeholder="last name (*)" class="form-control" th:errorclass="fieldError" />
				</div>
				<div th:if="${#fields.hasErrors('lastName')}" class="alert">
					<ul>
						<li th:each="err : ${#fields.errors('lastName')}" th:text="'Last name ' + ${err}" />
					</ul>						
				</div>

				<!-- Email -->
				<div class="mb-2">
					<label>Email</label>
					<input type="text" th:field="*{email}"  class="form-control" th:errorclass="fieldError" />
				</div>
				<div th:if="${#fields.hasErrors('email')}" class="alert">
					<ul>
						<li th:each="err : ${#fields.errors('email')}" th:text="'Email ' + ${err}" />
					</ul>						
				</div>

					<!-- Register-->
				<div class="center-text">
					<button class="btn btn--primary btn--big" type="submit" name="save">Register</button>
					<a class="btn btn--big btn--info" href='/showMyLoginPage'>Login</a> 
				
				</div>
					
					
			</form>

		</div>

	</div>
</body>

</html>